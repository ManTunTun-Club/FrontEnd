# Git å”ä½œé–‹ç™¼æµç¨‹

## ğŸ“š å¿«é€Ÿå°èˆª

- [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
- [æ¯æ¬¡é–‹å§‹å·¥ä½œå‰](#æ¯æ¬¡é–‹å§‹å·¥ä½œå‰)
- [æäº¤ PR å‰æª¢æŸ¥](#æäº¤-pr-å‰æª¢æŸ¥)
- [æ–°åŠŸèƒ½ç™¼å¸ƒå¾Œè™•ç†](#æ–°åŠŸèƒ½ç™¼å¸ƒå¾Œè™•ç†)
- [è¡çªè™•ç†](#è¡çªè™•ç†)
- [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## é–‹ç™¼æµç¨‹

### 1. é–‹å§‹æ–°åŠŸèƒ½

```bash
# æ›´æ–°æœ€æ–°ä»£ç¢¼
git fetch origin

# å¾ test åˆ†æ”¯å‰µå»ºæ–°çš„ feature åˆ†æ”¯
git checkout origin/test
git checkout -b feature/ä½ çš„åå­—-åŠŸèƒ½æè¿°

# ç¯„ä¾‹ï¼š
# git checkout -b feature/john-login
# git checkout -b feature/mary-dashboard
```

### 2. é–‹ç™¼éšæ®µ

```bash
# å¯«ä»£ç¢¼...

# éš¨æ™‚æäº¤ï¼ˆå»ºè­°æ¯å®Œæˆä¸€å€‹å°åŠŸèƒ½å°± commitï¼‰
git add .
git commit -m "feat: ç°¡çŸ­æè¿°ä½ åšäº†ä»€éº¼"

# æ¨é€åˆ°é ç«¯ï¼ˆå‚™ä»½ï¼‰
git push origin feature/ä½ çš„åˆ†æ”¯å
```

### 3. æäº¤ Pull Request

```bash
# ç¢ºä¿ä»£ç¢¼å·²æ¨é€
git push origin feature/ä½ çš„åˆ†æ”¯å

# åˆ° GitHub ç¶²é ï¼š
# 1. é»æ“Š "Pull requests"
# 2. é»æ“Š "New pull request"
# 3. Base: test, Compare: feature/ä½ çš„åˆ†æ”¯å
# 4. å¡«å¯« PR èªªæ˜
# 5. è«‹éšŠå‹ review
```

### 4. Merge å¾Œ

- âœ… Feature åˆ†æ”¯æœƒè‡ªå‹•åˆªé™¤
- âœ… ç¹¼çºŒé–‹ç™¼ä¸‹ä¸€å€‹åŠŸèƒ½

---

## æ¯æ¬¡é–‹å§‹å·¥ä½œå‰

**âš ï¸ é‡è¦ï¼šæ¯æ¬¡é–‹å§‹å¯«ä»£ç¢¼å‰éƒ½è¦åšé€™å€‹ï¼**

```bash
# 1. ç²å–æœ€æ–°çš„é ç«¯è³‡è¨Š
git fetch origin

# 2. åˆ‡æ›åˆ°ä½ çš„ feature åˆ†æ”¯
git checkout feature/ä½ çš„åˆ†æ”¯å

# 3. Rebase åˆ°æœ€æ–°çš„ test
git rebase origin/test

# 4. å¦‚æœæœ‰è¡çªï¼Œè§£æ±ºå¾Œç¹¼çºŒï¼ˆè¦‹ä¸‹æ–¹ã€Œè¡çªè™•ç†ã€ï¼‰
# å¦‚æœæ²’æœ‰è¡çªï¼Œç›´æ¥æ¨é€

# 5. å¼·åˆ¶æ¨é€ï¼ˆå› ç‚º rebase æ”¹è®Šäº†æ­·å²ï¼‰
git push origin feature/ä½ çš„åˆ†æ”¯å --force
```

**ç‚ºä»€éº¼è¦é€™æ¨£åšï¼Ÿ**
- âœ… é¿å…ç´¯ç©å¤ªå¤šè¡çª
- âœ… ç¢ºä¿ä½ çš„ä»£ç¢¼å»ºç«‹åœ¨æœ€æ–°ç‰ˆæœ¬ä¸Š
- âœ… è®“æœ€å¾Œ merge æ›´é †åˆ©

**å¤šä¹…åšä¸€æ¬¡ï¼Ÿ**
- æ¯æ¬¡é–‹å§‹å¯«ä»£ç¢¼å‰
- å»ºè­°ï¼šè‡³å°‘æ¯å¤©ä¸€æ¬¡

---

## æäº¤ PR å‰æª¢æŸ¥

### è‡ªæˆ‘æª¢æŸ¥æ¸…å–®

```bash
# âœ… 1. ç¢ºä¿å·² rebase åˆ°æœ€æ–°
git fetch origin
git rebase origin/test

# âœ… 2. æ¸¬è©¦ä½ çš„ä»£ç¢¼
npm test          # æˆ–å…¶ä»–æ¸¬è©¦å‘½ä»¤
npm run lint      # æª¢æŸ¥ä»£ç¢¼é¢¨æ ¼

# âœ… 3. ç¢ºèªæ²’æœ‰éºç•™çš„ debug ä»£ç¢¼
# - console.log()
# - è¨»è§£æ‰çš„ä»£ç¢¼
# - TODO æ¨™è¨˜

# âœ… 4. æª¢æŸ¥ commit message æ˜¯å¦æ¸…æ¥š
git log --oneline -5

# âœ… 5. æ¨é€æœ€æ–°ç‰ˆæœ¬
git push origin feature/ä½ çš„åˆ†æ”¯å
```

### PR æè¿°æ‡‰è©²åŒ…å«

```markdown
## åšäº†ä»€éº¼
ç°¡çŸ­æè¿°é€™å€‹ PR çš„ç›®çš„

## å¦‚ä½•æ¸¬è©¦
1. æ­¥é©Ÿä¸€
2. æ­¥é©ŸäºŒ
3. é æœŸçµæœ

## æˆªåœ–ï¼ˆå¦‚æœæ˜¯ UI è®Šæ›´ï¼‰
[è²¼ä¸Šæˆªåœ–]

## ç›¸é—œ Issue
Closes #123
```

---

## æ–°åŠŸèƒ½ç™¼å¸ƒå¾Œè™•ç†

### æƒ…æ³ Aï¼šæœ‰äºº merge åˆ° dev

**ä½ æœƒçœ‹åˆ°é€šçŸ¥ï¼š**
> âœ… Test Branch Synced with Dev
> 
> è«‹æ›´æ–°ä½ çš„ feature åˆ†æ”¯

**ä½ éœ€è¦åšçš„ï¼š**

```bash
# 1. æ›´æ–°é ç«¯è³‡è¨Š
git fetch origin

# 2. åˆ‡æ›åˆ°ä½ çš„ feature åˆ†æ”¯
git checkout feature/ä½ çš„åˆ†æ”¯å

# 3. Rebase
git rebase origin/test

# 4. è§£æ±ºè¡çªï¼ˆå¦‚æœæœ‰ï¼‰
# è¦‹ä¸‹æ–¹ã€Œè¡çªè™•ç†ã€

# 5. å¼·åˆ¶æ¨é€
git push origin feature/ä½ çš„åˆ†æ”¯å --force
```

**æ™‚é™ï¼š** å»ºè­°ç•¶å¤©å®Œæˆ

---

### æƒ…æ³ Bï¼šæœ‰äºº merge åˆ° mainï¼ˆè¼ƒåš´é‡ï¼‰

**ä½ æœƒçœ‹åˆ°é€šçŸ¥ï¼š**
> âš ï¸ CRITICAL - Action Required
> 
> Dev and Test Branches Synced with Main
> 
> æ‰€æœ‰ feature åˆ†æ”¯å¿…é ˆåœ¨ 24 å°æ™‚å…§æ›´æ–°

**ä½ éœ€è¦åšçš„ï¼š**

```bash
# 1. æš«åœç•¶å‰å·¥ä½œï¼Œå„ªå…ˆè™•ç†é€™å€‹

# 2. æ›´æ–°é ç«¯è³‡è¨Š
git fetch origin

# 3. å¦‚æœä½ æœ‰å¤šå€‹ feature åˆ†æ”¯ï¼Œé€ä¸€è™•ç†
git branch -vv  # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯

# 4. å°æ¯å€‹åˆ†æ”¯ï¼š
git checkout feature/åˆ†æ”¯å
git rebase origin/test
# è§£æ±ºè¡çª...
git push origin feature/åˆ†æ”¯å --force

# 5. é‡è¤‡ç›´åˆ°æ‰€æœ‰åˆ†æ”¯éƒ½æ›´æ–°å®Œæˆ
```

**æ™‚é™ï¼š** â° **24 å°æ™‚å…§å¿…é ˆå®Œæˆ**

**ç‚ºä»€éº¼é€™éº¼æ€¥ï¼Ÿ**
- Main çš„æ›´æ–°ä»£è¡¨æœ‰é‡è¦ç‰ˆæœ¬ç™¼å¸ƒ
- æ‰€æœ‰é–‹ç™¼éƒ½æ‡‰è©²åŸºæ–¼æœ€æ–°ç‰ˆæœ¬
- é¿å…åœ˜éšŠå…¶ä»–äººåœ¨èˆŠç‰ˆæœ¬ä¸Šé–‹ç™¼

---

## è¡çªè™•ç†

### åŸºæœ¬æµç¨‹

```bash
# 1. Rebase æ™‚é‡åˆ°è¡çª
git rebase origin/test

# æœƒçœ‹åˆ°é¡ä¼¼è¨Šæ¯ï¼š
# CONFLICT (content): Merge conflict in src/app.js

# 2. æŸ¥çœ‹æœ‰è¡çªçš„æª”æ¡ˆ
git status

# ç´…è‰²æ¨™è¨˜çš„å°±æ˜¯æœ‰è¡çªçš„æª”æ¡ˆ
```

### è§£æ±ºè¡çª

#### æ‰“é–‹è¡çªæª”æ¡ˆï¼Œæœƒçœ‹åˆ°ï¼š

```javascript
<<<<<<< HEAD (ä½ çš„ä»£ç¢¼)
function greet() {
  console.log("Hello");
}
=======
function greet() {
  console.log("Hi there");
}
>>>>>>> origin/test (åˆ¥äººçš„ä»£ç¢¼)
```

#### æ±ºå®šä¿ç•™å“ªå€‹ç‰ˆæœ¬ï¼š

**é¸é … 1ï¼šä¿ç•™ä½ çš„**
```javascript
function greet() {
  console.log("Hello");
}
```

**é¸é … 2ï¼šä¿ç•™åˆ¥äººçš„**
```javascript
function greet() {
  console.log("Hi there");
}
```

**é¸é … 3ï¼šåˆä½µå…©è€…**
```javascript
function greet() {
  console.log("Hello");
  console.log("Hi there");
}
```

#### å®Œæˆè§£æ±º

```bash
# 3. åˆªé™¤è¡çªæ¨™è¨˜ (<<<<<<<, =======, >>>>>>>)
# ä¿ç•™ä½ æƒ³è¦çš„ä»£ç¢¼

# 4. æ¨™è¨˜ç‚ºå·²è§£æ±º
git add <è¡çªçš„æª”æ¡ˆ>

# 5. ç¹¼çºŒ rebase
git rebase --continue

# 6. å¦‚æœé‚„æœ‰å…¶ä»–è¡çªï¼Œé‡è¤‡ 2-5 æ­¥é©Ÿ

# 7. å®Œæˆå¾Œæ¨é€
git push origin feature/ä½ çš„åˆ†æ”¯å --force
```

---

### ä½¿ç”¨ VS Code è§£æ±ºè¡çª

VS Code æœƒè‡ªå‹•è­˜åˆ¥è¡çªï¼Œé¡¯ç¤ºæŒ‰éˆ•ï¼š

```
<<<<<<< HEAD (Current Change)
ä½ çš„ä»£ç¢¼
[Accept Current Change] [Accept Incoming Change] [Accept Both Changes]
=======
åˆ¥äººçš„ä»£ç¢¼
>>>>>>> origin/test (Incoming Change)
```

é»æ“Šå°æ‡‰çš„æŒ‰éˆ•å³å¯å¿«é€Ÿè§£æ±ºï¼

---

### è¡çªå¤ªå¤šæ€éº¼è¾¦ï¼Ÿ

#### æ–¹æ³• 1ï¼šå–æ¶ˆ rebaseï¼Œé‡æ–°ä¾†é

```bash
# å–æ¶ˆç•¶å‰çš„ rebase
git rebase --abort

# å›åˆ°åŸå§‹ç‹€æ…‹ï¼Œä¹‹å¾Œå¯ä»¥å†è©¦ä¸€æ¬¡
```

#### æ–¹æ³• 2ï¼šé‡æ–°é–‹åˆ†æ”¯ï¼ˆæœ€å¾Œæ‰‹æ®µï¼‰

```bash
# 1. å‚™ä»½ç•¶å‰å·¥ä½œ
git checkout feature/ä½ çš„åˆ†æ”¯å
git branch feature/ä½ çš„åˆ†æ”¯å-backup

# 2. æŸ¥çœ‹ä½ åšäº†å“ªäº›é‡è¦çš„ commits
git log --oneline

# è¨˜ä¸‹ä½ çš„ commit hash (ä¾‹å¦‚ï¼šabc1234, def5678)

# 3. å¾æœ€æ–°çš„ test é‡æ–°é–‹åˆ†æ”¯
git checkout origin/test
git checkout -b feature/ä½ çš„åˆ†æ”¯å-new

# 4. æ‰‹å‹•æŒ‘é¸ä½ çš„é‡è¦ commits
git cherry-pick abc1234
git cherry-pick def5678

# 5. åˆªé™¤èˆŠåˆ†æ”¯ï¼Œé‡å‘½åæ–°åˆ†æ”¯
git branch -D feature/ä½ çš„åˆ†æ”¯å
git branch -m feature/ä½ çš„åˆ†æ”¯å-new feature/ä½ çš„åˆ†æ”¯å

# 6. å¼·åˆ¶æ¨é€
git push origin feature/ä½ çš„åˆ†æ”¯å --force
```

---

## å¸¸è¦‹å•é¡Œ

### Q1: æˆ‘å¿˜è¨˜æ¯å¤© rebaseï¼Œç¾åœ¨æœ‰å¾ˆå¤šè¡çªæ€éº¼è¾¦ï¼Ÿ

**A:** æ…¢æ…¢è§£æ±ºï¼Œä¸€å€‹ä¸€å€‹ä¾†ã€‚æˆ–è€…ä½¿ç”¨ã€Œé‡æ–°é–‹åˆ†æ”¯ã€çš„æ–¹æ³•ï¼ˆè¦‹ä¸Šæ–¹ï¼‰ã€‚

---

### Q2: æˆ‘å¯ä»¥ç›´æ¥ push åˆ° test åˆ†æ”¯å—ï¼Ÿ

**A:** ä¸è¡Œã€‚Test åˆ†æ”¯æœ‰ä¿è­·ï¼Œåªèƒ½é€é PR mergeã€‚

---

### Q3: ä»€éº¼æ™‚å€™è©²ç”¨ `--force` pushï¼Ÿ

**A:**
- âœ… Rebase ä¹‹å¾Œï¼ˆå› ç‚ºæ”¹å¯«äº†æ­·å²ï¼‰
- âœ… åœ¨ä½ è‡ªå·±çš„ feature åˆ†æ”¯ä¸Š
- âŒ **æ°¸é ä¸è¦** force push åˆ° main/dev/test

---

### Q4: æˆ‘åŒæ™‚æœ‰ 2 å€‹ feature åˆ†æ”¯ï¼Œéƒ½éœ€è¦ rebase å—ï¼Ÿ

**A:** æ˜¯çš„ã€‚æ‰€æœ‰åŸºæ–¼ test çš„åˆ†æ”¯éƒ½éœ€è¦æ›´æ–°ã€‚

```bash
# é€ä¸€è™•ç†
git checkout feature/åˆ†æ”¯-1
git rebase origin/test
git push origin feature/åˆ†æ”¯-1 --force

git checkout feature/åˆ†æ”¯-2
git rebase origin/test
git push origin feature/åˆ†æ”¯-2 --force
```

---

### Q5: å¦‚ä½•æŸ¥çœ‹æˆ‘çš„åˆ†æ”¯èˆ‡ test å·®äº†å¤šå°‘ï¼Ÿ

**A:**
```bash
# æŸ¥çœ‹å·®ç•°çš„ commits
git log origin/test..HEAD

# æŸ¥çœ‹å·®ç•°çš„æª”æ¡ˆ
git diff origin/test

# æŸ¥çœ‹çµ±è¨ˆ
git diff --stat origin/test
```

---

### Q6: Rebase æç ¸äº†æ€éº¼è¾¦ï¼Ÿ

**A:**
```bash
# æ–¹æ³• 1ï¼šå–æ¶ˆ rebase
git rebase --abort

# æ–¹æ³• 2ï¼šå›åˆ°ä¹‹å‰çš„ç‹€æ…‹
git reflog  # æ‰¾åˆ°ä¹‹å‰çš„ commit
git reset --hard HEAD@{n}  # n æ˜¯ reflog é¡¯ç¤ºçš„æ•¸å­—
```

---

### Q7: æˆ‘å¯ä»¥åœ¨åˆ¥äººçš„ feature åˆ†æ”¯ä¸Šé–‹ç™¼å—ï¼Ÿ

**A:** ç›¡é‡é¿å…ã€‚å¦‚æœå¿…é ˆï¼š
1. èˆ‡è©²åˆ†æ”¯çš„äººæºé€š
2. å¾ä»–çš„åˆ†æ”¯é–‹æ–°åˆ†æ”¯
3. å®Œæˆå¾Œæ PR å›ä»–çš„åˆ†æ”¯

---

### Q8: å¦‚ä½•æ’¤éŠ·æœ€å¾Œä¸€å€‹ commitï¼Ÿ

**A:**
```bash
# æ’¤éŠ·ä½†ä¿ç•™ä¿®æ”¹ï¼ˆå¯ä»¥é‡æ–° commitï¼‰
git reset --soft HEAD~1

# å®Œå…¨æ’¤éŠ·ï¼ˆæ”¾æ£„ä¿®æ”¹ï¼‰
git reset --hard HEAD~1
```

---

### Q9: å¦‚ä½•ä¿®æ”¹ä¸Šä¸€å€‹ commit çš„è¨Šæ¯ï¼Ÿ

**A:**
```bash
git commit --amend

# æœƒæ‰“é–‹ç·¨è¼¯å™¨è®“ä½ ä¿®æ”¹ commit message
# ä¿®æ”¹å¾Œå­˜æª”å³å¯
```

---

### Q10: å¿˜è¨˜åœ¨å“ªå€‹åˆ†æ”¯ä¸Šé–‹ç™¼äº†æ€éº¼è¾¦ï¼Ÿ

**A:**
```bash
# æŸ¥çœ‹ç•¶å‰åˆ†æ”¯
git branch

# å‰é¢æœ‰ * çš„å°±æ˜¯ç•¶å‰åˆ†æ”¯

# å¦‚æœåœ¨éŒ¯çš„åˆ†æ”¯ä¸Šé–‹ç™¼äº†ï¼š
git stash  # æš«å­˜ç•¶å‰ä¿®æ”¹
git checkout æ­£ç¢ºçš„åˆ†æ”¯
git stash pop  # æ¢å¾©ä¿®æ”¹
```

---

## ğŸ†˜ é‡åˆ°å•é¡Œæ™‚

1. **å…ˆä¸è¦æ…Œå¼µ**
2. **æª¢æŸ¥ `git status`** - äº†è§£ç•¶å‰ç‹€æ…‹
3. **å¦‚æœä¸ç¢ºå®šï¼Œç”¨ `git rebase --abort` å–æ¶ˆæ“ä½œ**
4. **åœ¨åœ˜éšŠç¾¤çµ„æ±‚åŠ©** - èªªæ˜ä½ é‡åˆ°çš„å•é¡Œ
5. **åƒè€ƒé€™ä»½æ–‡æª”** - å¤§éƒ¨åˆ†å•é¡Œé€™è£¡éƒ½æœ‰è§£ç­”

---

## ğŸ“ Commit Message å»ºè­°æ ¼å¼

```bash
# æ ¼å¼ï¼šé¡å‹: ç°¡çŸ­æè¿°

feat: æ–°å¢ç™»å…¥é é¢
fix: ä¿®å¾©è¨»å†ŠæŒ‰éˆ•ç„¡æ³•é»æ“Šçš„å•é¡Œ
refactor: é‡æ§‹è³‡æ–™è™•ç†é‚è¼¯
docs: æ›´æ–° README
style: èª¿æ•´é¦–é æ’ç‰ˆ
test: æ–°å¢å–®å…ƒæ¸¬è©¦
```

**é¡å‹ï¼š**
- `feat` - æ–°åŠŸèƒ½
- `fix` - ä¿®å¾© bug
- `refactor` - é‡æ§‹ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `docs` - æ–‡æª”
- `style` - æ¨£å¼èª¿æ•´
- `test` - æ¸¬è©¦
- `chore` - é›œé …ï¼ˆæ›´æ–°å¥—ä»¶ç­‰ï¼‰

---

## âœ… æ¯æ—¥æª¢æŸ¥æ¸…å–®

### é–‹å§‹å·¥ä½œå‰
- [ ] `git fetch origin`
- [ ] `git rebase origin/test`
- [ ] è§£æ±ºè¡çªï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] `git push --force`

### å¯«ä»£ç¢¼æ™‚
- [ ] é »ç¹ commitï¼ˆæ¯å®Œæˆä¸€å€‹å°åŠŸèƒ½ï¼‰
- [ ] Commit message æ¸…æ¥š
- [ ] å®šæœŸ push å‚™ä»½

### æäº¤ PR å‰
- [ ] å·² rebase åˆ°æœ€æ–°
- [ ] æ¸¬è©¦é€šé
- [ ] æ²’æœ‰ console.log ç­‰ debug ä»£ç¢¼
- [ ] PR æè¿°å®Œæ•´

---

## ğŸ¯ è¨˜ä½é€™äº›é‡é»

1. **æ¯æ¬¡é–‹å§‹å·¥ä½œå‰å…ˆ rebase**
2. **é‡åˆ°è¡çªä¸è¦æ…Œï¼Œä¸€å€‹ä¸€å€‹è§£æ±º**
3. **ä¸ç¢ºå®šå°±å•ï¼Œä¸è¦è‡ªå·±äº‚æ**
4. **æ°¸é ä¸è¦ force push åˆ° main/dev/test**
5. **æ”¶åˆ°é€šçŸ¥å°±è™•ç†ï¼Œä¸è¦æ‹–å»¶**

---

**ğŸ’¡ æŠŠé€™ä»½æ–‡æª”åŠ å…¥æ›¸ç±¤ï¼Œéš¨æ™‚æŸ¥é–±ï¼**

**æœ‰å•é¡Œå°±åœ¨ç¾¤çµ„å•ï¼Œå¤§å®¶ä¸€èµ·å­¸ç¿’ï¼**
